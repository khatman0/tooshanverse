<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ú©Ù…ÛŒÚ©â€ŒÙ‡Ø§ | ØªÙˆØ´Ø§Ù†â€ŒÙˆØ±Ø³</title>
  <link href="https://fonts.googleapis.com/css2?family=Vazirmatn&display=swap" rel="stylesheet" />
  <style>
    * {
      box-sizing: border-box;
    }
    body, html {
      margin: 0; padding: 0; height: 100%;
      font-family: 'Vazirmatn', sans-serif;
      background: linear-gradient(135deg, #3e0f0f, #5c1a1a, #2b0a0a);
      color: #f0c040;
      direction: rtl;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }
    header, footer {
      background-color: #1a1a1a;
      color: #ff9900;
      text-align: center;
      padding: 20px 15px;
      flex-shrink: 0;
      box-shadow: 0 0 10px #ff990055;
    }
    main {
      flex-grow: 1;
      max-width: 1200px;
      margin: 20px auto;
      width: 95%;
      display: flex;
      gap: 20px;
      min-height: 400px;
    }
    /* Ù„ÛŒØ³Øª ÙØ§Ø²Ù‡Ø§ */
    #phaseList {
      flex: 0 0 180px;
      background: #1f1f1f;
      border-radius: 12px;
      box-shadow: 0 0 15px #ff990044;
      padding: 15px;
      user-select: none;
    }
    #phaseList li {
      padding: 10px 15px;
      margin-bottom: 10px;
      cursor: pointer;
      border-radius: 8px;
      transition: background-color 0.3s ease;
      box-shadow: 0 0 5px #ff990033;
    }
    #phaseList li.active, #phaseList li:hover {
      background-color: #ff9900;
      color: #111;
      box-shadow: 0 0 12px #ff9900dd;
      font-weight: bold;
    }
    /* Ù„ÛŒØ³Øª Ø¯Ø§Ø³ØªØ§Ù†â€ŒÙ‡Ø§ */
    #storyList {
      flex: 0 0 220px;
      background: #1f1f1f;
      border-radius: 12px;
      box-shadow: 0 0 15px #ff990044;
      padding: 15px;
      user-select: none;
      overflow-y: auto;
      max-height: 500px;
    }
    #storyList li {
      padding: 8px 12px;
      margin-bottom: 8px;
      cursor: pointer;
      border-radius: 8px;
      transition: background-color 0.3s ease;
      box-shadow: 0 0 5px #ff990033;
      font-size: 14.5px;
    }
    #storyList li.active, #storyList li:hover {
      background-color: #ff9900;
      color: #111;
      box-shadow: 0 0 12px #ff9900dd;
      font-weight: bold;
    }
    /* Ù…Ø­ØªÙˆØ§ÛŒ Ø¯Ø§Ø³ØªØ§Ù† */
    #storyContent {
      flex-grow: 1;
      background: #1a1a1a;
      border-radius: 12px;
      padding: 20px;
      box-shadow: 0 0 20px #ff990055;
      overflow-y: auto;
      max-height: 500px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    #storyTitle {
      font-size: 28px;
      font-weight: bold;
      margin-bottom: 15px;
      color: #ffcc33;
      text-align: center;
    }
    #storyCover {
      max-width: 100%;
      max-height: 300px;
      border-radius: 12px;
      margin-bottom: 15px;
      box-shadow: 0 0 15px #ff9900bb;
      display: none; /* Ø§Ú¯Ø± Ø¹Ú©Ø³ÛŒ Ø¨ÙˆØ¯ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ø´ÙˆØ¯ */
      object-fit: contain;
    }
    #storyText {
      font-size: 16px;
      line-height: 1.6;
      text-align: justify;
      color: #f0c040;
      white-space: pre-wrap;
    }
    /* Ø±ÛŒØ³Ù¾Ø§Ù†Ø³ÛŒÙˆ Ø¨Ø±Ø§ÛŒ Ù…ÙˆØ¨Ø§ÛŒÙ„ */
    @media (max-width: 900px) {
      main {
        flex-direction: column;
      }
      #phaseList, #storyList, #storyContent {
        max-height: none;
        flex: none;
        width: 100%;
        margin-bottom: 15px;
      }
      #storyContent {
        order: 3;
      }
    }
  </style>
</head>
<body>
  <header>
    <h1>ğŸ“š Ú©Ù…ÛŒÚ©â€ŒÙ‡Ø§ | ØªÙˆØ´Ø§Ù†â€ŒÙˆØ±Ø³</h1>
    <p>ÙØ§Ø² Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯ Ùˆ Ø¯Ø§Ø³ØªØ§Ù†â€ŒÙ‡Ø§ÛŒ Ø¢Ù† Ø±Ø§ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ú©Ù†ÛŒØ¯.</p>
  </header>

  <main>
    <ul id="phaseList" aria-label="Ù„ÛŒØ³Øª ÙØ§Ø²Ù‡Ø§">
      <!-- ÙØ§Ø²Ù‡Ø§ Ø§ÛŒÙ†Ø¬Ø§ ØªÙˆØ³Ø· JS Ø³Ø§Ø®ØªÙ‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ -->
    </ul>

    <ul id="storyList" aria-label="Ù„ÛŒØ³Øª Ø¯Ø§Ø³ØªØ§Ù†â€ŒÙ‡Ø§">
      <!-- Ø¯Ø§Ø³ØªØ§Ù†â€ŒÙ‡Ø§ Ø§ÛŒÙ†Ø¬Ø§ ØªÙˆØ³Ø· JS Ø³Ø§Ø®ØªÙ‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ -->
    </ul>

    <section id="storyContent" aria-live="polite">
      <h2 id="storyTitle"></h2>
      <img id="storyCover" src="" alt="Ú©Ø§ÙˆØ± Ø¯Ø§Ø³ØªØ§Ù†" />
      <p id="storyText"></p>
    </section>
  </main>

  <footer>
    <p>ØªÙ…Ø§Ù… Ø­Ù‚ÙˆÙ‚ Ù…ØªØ¹Ù„Ù‚ Ø¨Ù‡ ØªÙˆØ´Ø§Ù† Ø§Ø³ØªÙˆØ¯ÛŒÙˆ Â© 2025</p>
  </footer>

<script>
  // Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§: 6 ÙØ§Ø² Ù†Ù…ÙˆÙ†Ù‡ Ø¨Ø§ Ú†Ù†Ø¯ Ø¯Ø§Ø³ØªØ§Ù†
  const phases = {
    phase1: [
      { id: 'p1s1', title: 'Ù„Ø±Ø¯ÙÛŒØ²ÛŒÚ©Ø§:Ø§Ù†ÙØ¬Ø§Ø± Ø¢Ø¨ÛŒ', cover: '', text: 'Ù…ØªÙ† Ø¯Ø§Ø³ØªØ§Ù† Ø¨Ù‡ Ø²ÙˆØ¯ÛŒ Ø§Ø¶Ø§Ù Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯' },
      { id: 'p1s2', title: 'Ø§Ù„Ú©ØªØ±ÙˆÙ¾Ø§Ù„Ø³:ÙˆÙ„ØªØ§Ú˜ Ù†Ø§Ø´Ù†Ø§Ø®ØªÙ‡', cover: '', text: 'Ù…ØªÙ† Ø¯Ø§Ø³ØªØ§Ù† Ø¨Ù‡ Ø²ÙˆØ¯ÛŒ Ø§Ø¶Ø§Ù Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯ ' },
      { id: 'p1s3', title: 'Ø§Ù„Ù…Ù†Øª Ù‡Ø§:Ø¹Ù†Ø§ØµØ± Ù¾Ù†Ù‡Ø§Ù†', cover: '', text: 'Ù…ØªÙ† Ø¯Ø§Ø³ØªØ§Ù† Ø¨Ù‡ Ø²ÙˆØ¯ÛŒ Ø§Ø¶Ø§Ù Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯' },
      { id: 'p1s4', title: 'Ø§Ø³ØªØ±ÛŒÚ©Ø³:Ø¨Ù†Ø¯ Ø°Ù‡Ù†', cover: '', text: 'Ù…ØªÙ† Ø¯Ø§Ø³ØªØ§Ù† Ø¨Ù‡ Ø²ÙˆØ¯ÛŒ Ø§Ø¶Ø§Ù Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯' },
      { id: 'p1s5', title: 'ØªØ³Ú©ÛŒÙ†:Ø®Ø§Ù…ÙˆØ´ÛŒ Ø³Ù†Ø³ÙˆØ±', cover: '', text: 'Ù…ØªÙ† Ø¯Ø§Ø³ØªØ§Ù† Ø¨Ù‡ Ø²ÙˆØ¯ÛŒ Ø§Ø¶Ø§Ù Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯' },
    ],
    phase2: [
      { id: 'p2s1', title: 'Ø§Ù„Ù…Ù†Øª Ù‡Ø§ 2:Ù¾ÛŒÙˆÙ†Ø¯ Ø¹Ù†ØµØ±ÛŒ', cover: '', text: 'Ù…ØªÙ† Ø¯Ø§Ø³ØªØ§Ù† Ø¨Ù‡ Ø²ÙˆØ¯ÛŒ Ø§Ø¶Ø§Ù Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯' },
      { id: 'p2s2', title: 'Ø§Ø³ØªØ±ÛŒÚ©Ø³ 2:ØªÙˆÙ‡Ù… Ù…Ø´ØªØ±Ú©', cover: '', text: 'Ù…ØªÙ† Ø¯Ø§Ø³ØªØ§Ù† Ø¨Ù‡ Ø²ÙˆØ¯ÛŒ Ø§Ø¶Ø§Ù Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯' },
      { id: 'p2s3', title: 'Ù…Ø±Ø¯Ø§ÙˆÛŒÚ†:Ø¨Ø§Ø²Ú¯Ø´Øª Ø¯ÙˆÙ…', cover: '', text: 'Ù…ØªÙ† Ø¯Ø§Ø³ØªØ§Ù† Ø¨Ù‡ Ø²ÙˆØ¯ÛŒ Ø§Ø¶Ø§Ù Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯' },
      { id: 'p2s4', title: 'ØªØ³Ú©ÛŒÙ† 2:Ù†Ø¨Ø¶ Ø®Ø§Ù…ÙˆØ´ÛŒ', cover: '', text: 'Ù…ØªÙ† Ø¯Ø§Ø³ØªØ§Ù† Ø¨Ù‡ Ø²ÙˆØ¯ÛŒ Ø§Ø¶Ø§Ù Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯' },
      { id: 'p2s5', title: 'Ú¯Ø±Ø¯Ø¢ÙØ±ÛŒØ¯:Ù¾ÛŒÚ©Ø§Ø± Ù†Ø§ØªÙ…Ø§Ù…', cover: '', text: 'Ù…ØªÙ† Ø¯Ø§Ø³ØªØ§Ù† Ø¨Ù‡ Ø²ÙˆØ¯ÛŒ Ø§Ø¶Ø§Ù Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯' },
    ],
    phase3: [
      { id: 'p3s1', title: 'Ø¯Ø§Ø³ØªØ§Ù† Û³-Û±', cover: '', text: 'Ù…ØªÙ† Ø¯Ø§Ø³ØªØ§Ù† Û³-Û±...' },
    ],
    phase4: [],
    phase5: [],
    phase6: [],
    phase7: [],
  };

  // Ú¯Ø±ÙØªÙ† Ø§Ù„Ù…Ø§Ù†â€ŒÙ‡Ø§
  const phaseList = document.getElementById('phaseList');
  const storyList = document.getElementById('storyList');
  const storyTitle = document.getElementById('storyTitle');
  const storyCover = document.getElementById('storyCover');
  const storyText = document.getElementById('storyText');

  // Ø³Ø§Ø®Øª Ù„ÛŒØ³Øª ÙØ§Ø²Ù‡Ø§
  function buildPhaseList() {
    phaseList.innerHTML = '';
    let i = 1;
    for (const key in phases) {
      const li = document.createElement('li');
      li.textContent = `ÙØ§Ø² ${i}`;
      li.dataset.phase = key;
      li.tabIndex = 0;
      li.addEventListener('click', () => {
        setActivePhase(key);
      });
      li.addEventListener('keydown', e => {
        if(e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          setActivePhase(key);
        }
      });
      phaseList.appendChild(li);
      i++;
    }
  }

  // Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø³ØªØ§Ù†â€ŒÙ‡Ø§ ÙˆÙ‚ØªÛŒ ÙØ§Ø² Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯
  function showStories(phaseKey) {
    storyList.innerHTML = '';
    const stories = phases[phaseKey] || [];
    if (stories.length === 0) {
      storyList.innerHTML = '<li>Ø¯Ø§Ø³ØªØ§Ù†ÛŒ Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† ÙØ§Ø² Ù…ÙˆØ¬ÙˆØ¯ Ù†ÛŒØ³Øª.</li>';
      clearContent();
      return;
    }
    showStory(stories[0]);
    stories.forEach((story, index) => {
      const li = document.createElement('li');
      li.textContent = story.title;
      li.dataset.storyId = story.id;
      if (index === 0) li.classList.add('active');
      li.tabIndex = 0;
      li.addEventListener('click', () => {
        storyList.querySelectorAll('li').forEach(i => i.classList.remove('active'));
        li.classList.add('active');
        showStory(story);
      });
      li.addEventListener('keydown', e => {
        if(e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          storyList.querySelectorAll('li').forEach(i => i.classList.remove('active'));
          li.classList.add('active');
          showStory(story);
        }
      });
      storyList.appendChild(li);
    });
  }

  // Ù†Ù…Ø§ÛŒØ´ Ù…Ø­ØªÙˆØ§ÛŒ Ø¯Ø§Ø³ØªØ§Ù†
  function showStory(story) {
    storyTitle.textContent = story.title;
    if (story.cover) {
      storyCover.src = story.cover;
      storyCover.style.display = 'block';
      storyCover.alt = `Ú©Ø§ÙˆØ± Ø¯Ø§Ø³ØªØ§Ù† ${story.title}`;
    } else {
      storyCover.style.display = 'none';
      storyCover.src = '';
      storyCover.alt = '';
    }
    storyText.textContent = story.text;
  }

  // Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ù…Ø­ØªÙˆØ§ÛŒ Ø¯Ø§Ø³ØªØ§Ù†
  function clearContent() {
    storyTitle.textContent = '';
    storyCover.style.display = 'none';
    storyText.textContent = '';
  }

  // ØªÙ†Ø¸ÛŒÙ… ÙØ¹Ø§Ù„ Ø¨ÙˆØ¯Ù† ÙØ§Ø² Ùˆ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø³ØªØ§Ù†â€ŒÙ‡Ø§ÛŒ Ø¢Ù†
  function setActivePhase(phaseKey) {
    // Ø­Ø°Ù Ú©Ù„Ø§Ø³ ÙØ¹Ø§Ù„ Ø§Ø² Ù‡Ù…Ù‡ ÙØ§Ø²Ù‡Ø§
    phaseList.querySelectorAll('li').forEach(li => li.classList.remove('active'));
    // Ø§ÙØ²ÙˆØ¯Ù† Ú©Ù„Ø§Ø³ ÙØ¹Ø§Ù„ Ø¨Ù‡ ÙØ§Ø² Ø§Ù†ØªØ®Ø§Ø¨ÛŒ
    const selected = Array.from(phaseList.children).find(li => li.dataset.phase === phaseKey);
    if (selected) selected.classList.add('active');
    // Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø³ØªØ§Ù†â€ŒÙ‡Ø§ÛŒ ÙØ§Ø² Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡
    showStories(phaseKey);
  }

  // Ø´Ø±ÙˆØ¹ Ú©Ø§Ø±
  buildPhaseList();
  setActivePhase('phase1');
</script>

</body>
</html>
